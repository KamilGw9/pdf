# Wykonanie Grupa A - Typ A - Tydzień
# Generowany DLA KAŻDEJ UMOWY (wszystkie sklepy)
# Struktura:
#   Nagłówek "Twój raport" + data  |  Tabela 1 - Podsumowanie (8x2)
#   Tabela 2 - Nagłówek duży (5x2)
#   Tabela 3a - Sklepy grupa umowa X (11xN + SUMA)
#   Tabela 3b - Sklepy grupa umowa Y (11xN + SUMA)
#   Tabela 3c - Sklepy grupa umowa Z (11xN + SUMA)

report_type: "Wykonanie Grupa A - Typ A - Tydzień"
period_type: "weekly"
group: "A"

# === TABELA 1 – PODSUMOWANIE (8 wierszy x 2 kolumny) ===
summary:
  title: "Dane raportu"
  labels:
    - "Nr umowy"
    - "Typ"
    - "Nazwa"
    - "Lok"
    - "Rok"
    - "Kwar"
    - "DR"
    - "EMail"
  query: "CALL SCHEMA.PROC_SUMMARY_WYKONANIE_A({nr})"

# === TABELE DANYCH ===
data_tables:
  # --- TABELA 2 – Nagłówek duży (5x2) ---
  - name: "header_table"
    title: "Podsumowanie finansowe"
    headers:
      - "Rabat"
      - "Rabat"
      - "Udzielony"
      - "Wartość"
      - "Wypłata"
    query: "CALL SCHEMA.PROC_HEADER_WYKONANIE_A({nr})"
    formatting:
      percentage_columns: [0, 1]
      currency_columns: [2, 3, 4]
      add_total_row: false
      column_widths: null

  # --- TABELA 3a – Sklepy: grupa umowa X ---
  - name: "sklepy_x"
    title: "Wykonanie tygodniowe"
    subtitle: "Grupa umowa → X"
    headers:
      - "Nazwa sklepu"
      - "Grupa umowa"
      - "Klasyfikacja"
      - "Typ lok"
      - "Podstawa"
      - "Bonus"
      - "Wyprac"
      - "Bonus łącz"
      - "Wartość bonusu"
      - "Udzielony rabat"
      - "Wartość do wyr"
    query: "CALL SCHEMA.PROC_SKLEPY_WYKONANIE_A_X({nr})"
    formatting:
      currency_columns: [4, 8, 9, 10]
      percentage_columns: [5, 6, 7]
      add_total_row: true
      column_widths: null

  # --- TABELA 3b – Sklepy: grupa umowa Y ---
  - name: "sklepy_y"
    title: "Wykonanie tygodniowe"
    subtitle: "Grupa umowa → Y"
    headers:
      - "Nazwa sklepu"
      - "Grupa umowa"
      - "Klasyfikacja"
      - "Typ lok"
      - "Podstawa"
      - "Bonus"
      - "Wyprac"
      - "Bonus łącz"
      - "Wartość bonusu"
      - "Udzielony rabat"
      - "Wartość do wyr"
    query: "CALL SCHEMA.PROC_SKLEPY_WYKONANIE_A_Y({nr})"
    formatting:
      currency_columns: [4, 8, 9, 10]
      percentage_columns: [5, 6, 7]
      add_total_row: true
      column_widths: null

  # --- TABELA 3c – Sklepy: grupa umowa Z ---
  - name: "sklepy_z"
    title: "Wykonanie tygodniowe"
    subtitle: "Grupa umowa → Z"
    headers:
      - "Nazwa sklepu"
      - "Grupa umowa"
      - "Klasyfikacja"
      - "Typ lok"
      - "Podstawa"
      - "Bonus"
      - "Wyprac"
      - "Bonus łącz"
      - "Wartość bonusu"
      - "Udzielony rabat"
      - "Wartość do wyr"
    query: "CALL SCHEMA.PROC_SKLEPY_WYKONANIE_A_Z({nr})"
    formatting:
      currency_columns: [4, 8, 9, 10]
      percentage_columns: [5, 6, 7]
      add_total_row: true
      column_widths: null
