# Wykonanie Grupa B - Typ A - Tydzień
# Nagłówek + Podsumowanie + 3 tabele danych
# Dane: CALL schema.procedura({nr}) → zwraca result set

report_type: "Wykonanie Grupa B - Typ A - Tydzień"
period_type: "weekly"
group: "B"

# === PODSUMOWANIE (8 wierszy x 2 kolumny) ===
summary:
  title: "Podsumowanie tygodniowe"
  labels:
    - "Nazwa klienta"
    - "Numer klienta"
    - "Liczba podtypów"
    - "Status"
    - "Tydzień"
    - "Rok"
    - "Opiekun"
    - "E-mail"
  query: "CALL SCHEMA.PROC_PODSUMOWANIE_B_TYDZIEN({nr})"

# === TABELE DANYCH ===
data_tables:
  - name: "table1"
    title: "Wykonanie dzienne - Typ A"
    headers:
      - "Podtyp"
      - "Poniedziałek"
      - "Wtorek"
      - "Środa"
      - "Czwartek"
      - "Piątek"
      - "Suma"
      - "Plan"
    query: "CALL SCHEMA.PROC_WYKONANIE_B_TYP_A_T1({nr})"
    formatting:
      currency_columns: [1, 2, 3, 4, 5, 6, 7]
      add_total_row: true
      column_widths: null

  - name: "table2"
    title: "Odchylenia od planu"
    headers:
      - "Podtyp"
      - "Plan"
      - "Wykonanie"
      - "Różnica"
      - "Realizacja %"
      - "Trend"
      - "Korekta"
      - "Nowy plan"
    query: "CALL SCHEMA.PROC_ODCHYLENIA_B_TYP_A_T2({nr})"
    formatting:
      currency_columns: [1, 2, 3, 6, 7]
      percentage_columns: [4, 5]
      add_total_row: true
      column_widths: null

  - name: "table3"
    title: "Porównanie tygodniowe"
    headers:
      - "Podtyp"
      - "Tydzień -2"
      - "Tydzień -1"
      - "Bieżący"
      - "Zmiana t/t"
      - "Średnia 4 tyg."
      - "Odchylenie"
      - "Prognoza"
    query: "CALL SCHEMA.PROC_POROWNANIE_B_TYP_A_T3({nr})"
    formatting:
      currency_columns: [1, 2, 3, 5, 6, 7]
      percentage_columns: [4]
      add_total_row: false
      column_widths: null
